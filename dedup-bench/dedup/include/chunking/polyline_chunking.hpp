#ifndef _POLYLINE_CHUNKING_
#define _POLYLINE_CHUNKING_

#include "chunking_common.hpp"
#include "config.hpp"

class POLYLINE_Chunking : public virtual Chunking_Technique {
    private:
     
     static constexpr uint16_t GEAR_TABLE[512] = {
        61109, 18824, 1497, 2990, 48988, 32702, 35310, 40513, 35226, 32965, 19058, 61123, 52069, 62726, 22344, 43267, 3113, 38164, 17395, 7085, 20535, 38802, 25382, 44080, 35921, 579, 19516, 28529, 5525, 11434, 63234, 24327, 28561, 30876, 4242, 18775, 43128, 29171, 3808, 19418, 43343, 60645, 9281, 29840, 53308, 60312, 8478, 42056, 45956, 22582, 2896, 3776, 36135, 37807, 58910, 32696, 413, 36793, 14922, 36987, 34058, 58727, 22449, 32486, 61600, 50706, 1659, 58827, 26743, 37977, 36677, 31932, 4702, 1831, 57920, 26226, 37745, 15229, 34587, 46469, 31831, 823, 36538, 7384, 13761, 7705, 65385, 17892, 14998, 60565, 36740, 40030, 59495, 38860, 4720, 11447, 22496, 58942, 28979, 39597, 42502, 18910, 56741, 24792, 34445, 53835, 58109, 15624, 6342, 4232, 42136, 53615, 27452, 21421, 53353, 19406, 36496, 42093, 57164, 17813, 30153, 42930, 47141, 54642, 30027, 19905, 56722, 13403, 3828, 45774, 11454, 63521, 30776, 344, 11935, 30206, 53395, 32179, 62486, 15709, 47829, 13437, 29635, 7184, 4230, 39123, 19404, 30432, 16595, 53305, 63512, 38609, 46366, 12041, 18256, 22361, 36519, 13538, 55849, 9246, 15056, 62794, 61342, 4296, 50706, 36594, 61485, 55226, 17099, 11373, 60276, 2035, 57929, 63383, 23910, 26209, 6734, 52117, 45782, 31007, 34677, 48962, 53461, 25012, 9596, 45780, 55412, 33239, 55811, 58468, 47644, 26540, 51514, 40607, 29233, 14627, 31103, 51361, 25196, 9599, 8660, 35753, 26318, 18081, 59357, 16732, 34828, 29833, 25936, 7523, 15643, 28932, 13808, 28957, 63569, 22065, 63475, 40925, 27204, 15940, 54638, 17518, 51908, 6031, 52127, 63512, 61220, 43871, 56992, 32576, 58586, 33580, 14122, 1497, 43119, 11644, 11862, 47088, 41043, 8415, 20831, 60890, 8388, 7493, 64945, 53625, 48400, 7267, 8034, 57138, 12716, 42721, 16153, 38832, 48170, 26922, 48049, 12320, 477, 13984, 16427, 520, 54659, 15681, 53706, 796, 4949, 46354, 49972, 29370, 61820, 13341, 27135, 59222, 24027, 27408, 30085, 18119, 58755, 38957, 49595, 39650, 28582, 57614, 36474, 41593, 54649, 37916, 63576, 47627, 17058, 16219, 64101, 44292, 39367, 64801, 50160, 61399, 49149, 64251, 35327, 33428, 52466, 12605, 7644, 61221, 4314, 55940, 46089, 48884, 51075, 61936, 35807, 41448, 29276, 20499, 46356, 51634, 48426, 10528, 29817, 1526, 51975, 1549, 27244, 32973, 22807, 42510, 23724, 27517, 4247, 33414, 64534, 9179, 65247, 58169, 44071, 23759, 5935, 55609, 41197, 41256, 31102, 44472, 31589, 44379, 53746, 20413, 23229, 53585, 8679, 53758, 17805, 30078, 53740, 4132, 14174, 46894, 46478, 58489, 19708, 6209, 7956, 30538, 52438, 56289, 46141, 13267, 40282, 16007, 30231, 46977, 39345, 40880, 37063, 63556, 13239, 64844, 29075, 5260, 64693, 15497, 9827, 34143, 53165, 42711, 63409, 37886, 10046, 37354, 33656, 61974, 2662, 52494, 31471, 45468, 7292, 40582, 42838, 20356, 42035, 55039, 33443, 43079, 36740, 45133, 35947, 23479, 54939, 47958, 28202, 27191, 17680, 61616, 22145, 59642, 16481, 24654, 10412, 6443, 619, 36405, 24251, 16625, 55017, 56949, 26471, 54385, 44547, 24909, 61320, 63048, 40250, 26205, 12081, 31250, 28627, 41109, 36196, 58123, 28400, 46800, 24243, 41574, 9583, 2052, 64081, 16846, 57880, 42207, 5078, 44912, 64905, 29068, 50211, 64186, 49128, 4889, 60869, 60893, 13209, 53287, 62963, 26368, 57198, 63257, 44812, 11346, 13448, 12961, 30753, 58029, 25560, 61225, 28692, 18859, 24918, 42418, 18965, 25587, 2154, 48727, 42990, 52624, 3756, 59698, 46341, 36391, 52355, 16319, 58944, 50421, 5585, 20219, 62432, 59522, 36104, 17595, 52355, 55029, 10056, 10554, 30392, 64961, 55085, 58063, 13073, 40804, 47309, 44876, 10196, 18041};


     uint64_t find_cutpoint(char* buff, uint64_t size) override;

    public:
     POLYLINE_Chunking();

     POLYLINE_Chunking(const Config& config);

};


#endif